# ====================================
# Upbit 자동매매 봇 환경 설정
# ====================================

# =====================================
# 1. Upbit API 인증 정보 (필수)
# =====================================
UPBIT_ACCESS_KEY=your_access_key_here
UPBIT_SECRET_KEY=your_secret_key_here

# 시장 설정
UPBIT_MARKET=KRW-BTC

# =====================================
# 2. MA Crossover 전략 파라미터
# =====================================
# ⚠️ 주의: 현재 MA Crossover 단독으로는 수익이 어렵습니다
# RSI 전략과 조합하거나 실제 데이터로 재검증 필요

# 이동평균 윈도우
MA_SHORT_WINDOW=14
MA_LONG_WINDOW=20

# ATR 변동성 필터 (0.00~0.03)
# 0.00: 필터 비활성화 (모든 크로스오버 거래)
# 0.02: 2% 이상 변동성일 때만 거래 (권장)
# 0.03: 3% 이상 변동성 (매우 보수적, 거래 거의 없음)
MA_ATR_THRESHOLD=0.02

# =====================================
# 3. RSI 전략 파라미터
# =====================================
RSI_WINDOW=14
RSI_MA_WINDOW=50
RSI_OVERSOLD=30
RSI_OVERBOUGHT=70

# =====================================
# 4. 리스크 관리 (필수!)
# =====================================

# Stop-Loss / Take-Profit (자동 청산)
RISK_STOP_LOSS_PCT=-5.0        # -5% 손실 시 자동 청산
RISK_TAKE_PROFIT_PCT=10.0      # +10% 수익 시 자동 청산
# RISK_TRAILING_STOP_PCT=3.0   # (옵션) 최고점 대비 3% 하락 시 청산

# 일일 리스크 한도
RISK_MAX_DAILY_LOSS_PCT=3.0    # 하루 최대 손실 3%
RISK_MAX_POSITION_PCT=5.0      # 포지션당 최대 5%
RISK_MAX_OPEN_POSITIONS=3      # 최대 동시 포지션 3개
RISK_MIN_BALANCE_KRW=10000     # 최소 유지 잔고

# 수수료 및 슬리피지
RISK_FEE_RATE=0.0005           # 업비트 기본 수수료 0.05%
RISK_SLIPPAGE_PCT=0.001        # 슬리피지 0.1%

# =====================================
# 5. 실행 모드
# =====================================

# 드라이런 모드 (페이퍼 트레이딩)
# true: 실제 거래 안함, false: 실제 거래
DRY_RUN=true

# 폴링 간격 (초)
POLL_INTERVAL=60

# 캔들 데이터 개수
CANDLE_COUNT=200

# =====================================
# 6. 알림 설정 (선택)
# =====================================

# Slack 알림
# SLACK_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/WEBHOOK/URL

# Telegram 알림
# TELEGRAM_BOT_TOKEN=your_bot_token
# TELEGRAM_CHAT_ID=your_chat_id

# =====================================
# 7. 백테스트 설정
# =====================================

BACKTEST_INITIAL_BALANCE=1000000  # 초기 자본금 (원)
BACKTEST_FEE_RATE=0.0005          # 수수료
BACKTEST_SLIPPAGE_PCT=0.001       # 슬리피지

# =====================================
# 8. 전략 선택
# =====================================

# 사용할 전략 (ma_crossover, rsi_trend_filter, combined)
STRATEGY_NAME=ma_crossover

# ⚠️ 복합 전략 사용 시 (고급)
# STRATEGY_NAME=combined
# COMBINED_STRATEGIES=[
#   {"name": "ma_crossover", "weight": 0.5, "config": {"short_window": 14, "long_window": 20}},
#   {"name": "rsi_trend_filter", "weight": 0.5, "config": {"rsi_window": 14}}
# ]

# =====================================
# 9. 로깅
# =====================================

LOG_LEVEL=INFO  # DEBUG, INFO, WARNING, ERROR

# =====================================
# 10. 웹 대시보드
# =====================================

WEB_HOST=0.0.0.0
WEB_PORT=8000

# =====================================
# ⚠️  중요 안전 수칙
# =====================================

# 1. 이 파일을 git에 커밋하지 마세요!
# 2. 실거래 전 최소 3개월 페이퍼 트레이딩 필수
# 3. Sharpe Ratio > 1.5 확인 후 실거래
# 4. 초기 투자금은 총 자산의 1~5%로 제한
# 5. Stop-Loss는 반드시 활성화
# 6. API 키는 거래 권한만 부여 (출금 권한 X)
# 7. IP 화이트리스트 설정 권장

# =====================================
# 📚 추가 정보
# =====================================

# - OPTIMIZATION_REPORT.md: 전략 최적화 결과
# - README.md: 사용 방법
# - test_improvements.py: 테스트 스크립트
# - optimize_parameters.py: 파라미터 최적화 스크립트
